<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<html>

<body>
  <p id="myDiv"></p>
  <div class="page-wrap">
    <div id="user-container"></div>
  </div>

  <script>
    let obj, url = 'https://5dc588200bbd050014fb8ae1.mockapi.io/assessment';
    let combinedData;
    //defining a function
    function getListOfUsers(url) {
      fetch(url).then(response => response.json()).then(data => {
        obj = { data };
        console.log("$$$$$$$$$$$$", obj);
        createHtml(obj)
      });
    }
    function createHtml(ourData) { 
      console.log("%%%%%", ourData)
      let rawTemplate = document.getElementById("ourTemplate").innerHTML;
      console.log("#####", rawTemplate)
      let compiledTemplate = Handlebars.compile(rawTemplate);
      let ourGeneratedHTML = compiledTemplate(ourData);
      let userContainer = document.getElementById("user-container");
      userContainer.innerHTML = ourGeneratedHTML;
    }


    //calling the function
    getListOfUsers(url);

  </script>


  <script src="https://twitter.github.io/typeahead.js/js/handlebars.js"></script>
  <script src="./handlebars.min-v4.7.7.js"></script>

  <script id="ourTemplate" type="text/x-handlebars-template">
  {{#each data}}
  <div>
    <ul>
      <li>  
            Avatar: <img src="{{avatar}}" alt="no image"width="40" height="40"><br>
            ID: {{id}}<br>
            Name: {{name}}<br>           
            CreatedDate: {{createdAt}}
        </li>
          
    </ul>
  {{/each}}
</script>

</body>

</html>